"use strict";var cardName=document.querySelector("#cardholder-name"),cardNumber=document.querySelector("#card-number"),mDate=document.querySelector(".mDate"),yDate=document.querySelector(".yDate"),cvcNumber=document.querySelector("#cvc"),allInputs=document.querySelectorAll("input"),sendBtn=document.querySelector(".details__form-btn"),closeBtn=document.querySelector(".details__complete-btn"),completeInfo=document.querySelector(".details__complete"),pCardName=document.querySelector(".bg__card-front-cardholder"),pCardNumber=document.querySelector(".bg__card-front-number"),pCardCvc=document.querySelector(".bg__card-back-cvc"),spanMonth=document.querySelector(".bg__card-front-month"),spanYear=document.querySelector(".bg__card-front-year"),blankInfo="can't be blank",re=/^\d+$/,showError=function(e,r){var e=e.closest(".details__form-box"),t=e.querySelector(".error-info");e.classList.add("error"),t.textContent=r},clearError=function(e){e.closest(".details__form-box").classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,blankInfo):clearError(e)})},checkLength=function(e,r){e.value.length<r&&0<e.value.length?showError(e,"".concat(e.previousElementSibling.textContent," should consist of at least ").concat(r," characters")):0===e.value.length&&showError(e,blankInfo)},checkCardDate=function(e,r){!e.value===re.test(e.value)?showError(e,"Wrong format, numbers only"):12<Number(e.value)?showError(e,"Only 12 months in a year"):e.value.length<1||r.value.length<1?showError(e,blankInfo):clearError(e)},checkCvc=function(e){!e.value===re.test(e.value)?showError(e,"Wrong format, numbers only"):checkLength(cvcNumber,3)},checkCardNumber=function(e){!e.value===re.test(e.value)?showError(e,"Wrong format, numbers only"):e.value.length<16&&0<e.value.length?showError(e,"card number should consist of 16 digits"):e.value.length<1?showError(e,blankInfo):clearError(e)},checkErrors=function(){var e=document.querySelectorAll(".details__form-box"),r=0;e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&allInputs.forEach(function(e){e.value="",clearError(e),completeInfo.classList.add("visible")})},handleCardText=function(e,r){r.textContent=e.value},handleCardNumber=function(e,r){for(var t=e.value,n="",c=0;c<t.length;c++)c%4==0&&0<c&&(n+=" "),n+=t[c];r.textContent=n};sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm(allInputs),checkLength(cardName,3),checkCardNumber(cardNumber),checkCardDate(mDate,yDate),checkCvc(cvcNumber),checkErrors()}),closeBtn.addEventListener("click",function(){completeInfo.classList.remove("visible")}),cardName.addEventListener("keyup",function(){handleCardText(cardName,pCardName)}),cvcNumber.addEventListener("keyup",function(){handleCardText(cvcNumber,pCardCvc)}),cardNumber.addEventListener("keyup",function(){handleCardNumber(cardNumber,pCardNumber)}),mDate.addEventListener("keyup",function(){handleCardText(mDate,spanMonth)}),yDate.addEventListener("keyup",function(){handleCardText(yDate,spanYear)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY2FyZE5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJkTnVtYmVyIiwibURhdGUiLCJ5RGF0ZSIsImN2Y051bWJlciIsImFsbElucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZW5kQnRuIiwiY29tcGxldGVJbmZvIiwicENhcmROYW1lIiwicENhcmROdW1iZXIiLCJwQ2FyZEN2YyIsInNwYW5Nb250aCIsImJsYW5rSW5mbyIsInJlIiwiZm9ybUJveCIsImlucHV0IiwiY2xvc2VzdCIsImVycm9yTXNnIiwiY2xhc3NMaXN0IiwidGV4dENvbnRlbnQiLCJtc2ciLCJjaGVja0Zvcm0iLCJyZW1vdmUiLCJzaG93RXJyb3IiLCJmb3JFYWNoIiwiZWwiLCJjbGVhckVycm9yIiwidmFsdWUiLCJsZW5ndGgiLCJtaW4iLCJjb25jYXQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiY2hlY2tDYXJkRGF0ZSIsInRlc3QiLCJpbnB1dDIiLCJjaGVja0N2YyIsImNoZWNrQ2FyZE51bWJlciIsImNoZWNrTGVuZ3RoIiwiY2hlY2tFcnJvcnMiLCJmb3JtQm94ZXMiLCJlcnJvckNvdW50IiwiY29udGFpbnMiLCJwYXJhZ3JhcGgiLCJoYW5kbGVDYXJkTnVtYmVyIiwiZm9ybWF0dGVkTnVtYmVyIiwiYWRkIiwiaSIsImhhbmRsZUNhcmRUZXh0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlQnRuIiwic3BhblllYXIiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFNBQVdDLFNBQVNDLGNBQWMsa0JBQWtCLEVBQ3BEQyxXQUFhRixTQUFTQyxjQUFjLGNBQWMsRUFEbERGLE1BQVFDLFNBQVdDLGNBQWMsUUFBQyxFQUNsQ0MsTUFBVUYsU0FBR0EsY0FBU0MsUUFBYyxFQUNwQ0UsVUFBUUgsU0FBU0MsY0FBYyxNQUFTLEVBQ3hDRyxVQUFRSixTQUFTQyxpQkFBdUIsT0FBQSxFQUN4Q0ks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LEdBRVI4QyxFQUFDM0MsRUFBQUEsRUFBVUgsRUFBQTRCLE9BQUFrQixDQUFBLEdBQ25CUixFQUFBQSxHQUFhLEdBQUEsRUFBQVEsSUFDWkYsR0FBQSxLQUdEckMsR0FBYVcsRUFBaUI0QixHQWQ5QkosRUFrQkFLLFlBQXVCSCxDQUN4QixFQWhCQXRDLFFBbUJDeUMsaUJBQWU1QyxRQUFXTyxTQUFBQSxHQUMxQnNDLEVBQUNDLGVBQUEsRUFFRmpELFVBQVdrRCxTQUFBQSxFQW5CVmIsWUFvQkFNLFNBQWlCM0MsQ0FBQUEsRUFDakJvQyxnQkFBQ3BDLFVBQUEsRUFFRkMsY0FBTWlELE1BQWdCaEQsS0FBQyxFQXBCdEJpQyxTQXFCQVksU0FBZTlDLEVBQ2ZxQyxZQUFDLENBRUZwQyxDQUFBQSxFQUVBaUQsU0FBRUQsaUJBQUEsUUFBQSxXQXJCRDNDLGFBQWFXLFVBQVVJLE9BQU8sU0FBUyxDQUN4QyxDQUFDLEVBRUR6QixTQUFTcUQsaUJBQWlCLFFBQVMsV0FDbENILGVBQWVsRCxTQUFVVyxTQUFTLENBQ25DLENBQUMsRUFFREwsVUFBVStDLGlCQUFpQixRQUFTLFdBQ25DSCxlQUFlNUMsVUFBV08sUUFBUSxDQUNuQyxDQUFDLEVBRURWLFdBQVdrRCxpQkFBaUIsUUFBUyxXQUNwQ1AsaUJBQWlCM0MsV0FBWVMsV0FBVyxDQUN6QyxDQUFDLEVBRURSLE1BQU1pRCxpQkFBaUIsUUFBUyxXQUMvQkgsZUFBZTlDLE1BQU9VLFNBQVMsQ0FDaEMsQ0FBQyxFQUVEVCxNQUFNZ0QsaUJBQWlCLFFBQVMsV0FDL0JILGVBQWU3QyxNQUFPa0QsUUFBUSxDQUMvQixDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2FyZE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZGhvbGRlci1uYW1lJyk7XHJcbmNvbnN0IGNhcmROdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1udW1iZXInKTtcclxuY29uc3QgbURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubURhdGUnKTtcclxuY29uc3QgeURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueURhdGUnKTtcclxuY29uc3QgY3ZjTnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N2YycpO1xyXG5jb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRldGFpbHNfX2Zvcm0tYnRuJyk7XHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRldGFpbHNfX2NvbXBsZXRlLWJ0bicpO1xyXG5jb25zdCBjb21wbGV0ZUluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV0YWlsc19fY29tcGxldGUnKTtcclxuXHJcbmNvbnN0IHBDYXJkTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZ19fY2FyZC1mcm9udC1jYXJkaG9sZGVyJyk7XHJcbmNvbnN0IHBDYXJkTnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnX19jYXJkLWZyb250LW51bWJlcicpO1xyXG5jb25zdCBwQ2FyZEN2YyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZ19fY2FyZC1iYWNrLWN2YycpO1xyXG5jb25zdCBzcGFuTW9udGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmdfX2NhcmQtZnJvbnQtbW9udGgnKTtcclxuY29uc3Qgc3BhblllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmdfX2NhcmQtZnJvbnQteWVhcicpO1xyXG5cclxuY29uc3QgYmxhbmtJbmZvID0gYGNhbid0IGJlIGJsYW5rYDtcclxuY29uc3QgcmUgPSAvXlxcZCskLztcclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LmNsb3Nlc3QoJy5kZXRhaWxzX19mb3JtLWJveCcpO1xyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItaW5mbycpO1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZztcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LmNsb3Nlc3QoJy5kZXRhaWxzX19mb3JtLWJveCcpO1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVsLCBibGFua0luZm8pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0xlbmd0aCA9IChpbnB1dCwgbWluKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbiAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPiAwKSB7XHJcblx0XHRzaG93RXJyb3IoaW5wdXQsIGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IHNob3VsZCBjb25zaXN0IG9mIGF0IGxlYXN0ICR7bWlufSBjaGFyYWN0ZXJzYCk7XHJcblx0fSBlbHNlIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPT09IDApIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgYmxhbmtJbmZvKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0NhcmREYXRlID0gKGlucHV0LCBpbnB1dDIpID0+IHtcclxuXHRpZiAoIWlucHV0LnZhbHVlID09PSByZS50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCBgV3JvbmcgZm9ybWF0LCBudW1iZXJzIG9ubHlgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKE51bWJlcihpbnB1dC52YWx1ZSkgPiAxMikge1xyXG5cdFx0XHRzaG93RXJyb3IoaW5wdXQsICdPbmx5IDEyIG1vbnRocyBpbiBhIHllYXInKTtcclxuXHRcdH0gZWxzZSBpZiAoaW5wdXQudmFsdWUubGVuZ3RoIDwgMSB8fCBpbnB1dDIudmFsdWUubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRzaG93RXJyb3IoaW5wdXQsIGJsYW5rSW5mbyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0N2YyA9IGlucHV0ID0+IHtcclxuXHRpZiAoIWlucHV0LnZhbHVlID09PSByZS50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCBgV3JvbmcgZm9ybWF0LCBudW1iZXJzIG9ubHlgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hlY2tMZW5ndGgoY3ZjTnVtYmVyLCAzKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0NhcmROdW1iZXIgPSBpbnB1dCA9PiB7XHJcblx0aWYgKCFpbnB1dC52YWx1ZSA9PT0gcmUudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgYFdyb25nIGZvcm1hdCwgbnVtYmVycyBvbmx5YCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCAxNiAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCwgYGNhcmQgbnVtYmVyIHNob3VsZCBjb25zaXN0IG9mIDE2IGRpZ2l0c2ApO1xyXG5cdFx0fSBlbHNlIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCAxKSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCwgYmxhbmtJbmZvKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoaW5wdXQpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZXRhaWxzX19mb3JtLWJveCcpO1xyXG5cclxuXHRsZXQgZXJyb3JDb3VudCA9IDA7XHJcblxyXG5cdGZvcm1Cb3hlcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0YWxsSW5wdXRzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0XHRlbC52YWx1ZSA9ICcnO1xyXG5cdFx0XHRjbGVhckVycm9yKGVsKTtcclxuXHRcdFx0Y29tcGxldGVJbmZvLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcmRUZXh0ID0gKGlucHV0LCBwYXJhZ3JhcGgpID0+IHtcclxuXHRwYXJhZ3JhcGgudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcmROdW1iZXIgPSAoaW5wdXQsIHBhcmFncmFwaCkgPT4ge1xyXG5cdGNvbnN0IGNhcmROdW1iZXIgPSBpbnB1dC52YWx1ZTtcclxuXHRsZXQgZm9ybWF0dGVkTnVtYmVyID0gJyc7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZE51bWJlci5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKGkgJSA0ID09PSAwICYmIGkgPiAwKSB7XHJcblx0XHRcdGZvcm1hdHRlZE51bWJlciArPSAnICc7XHJcblx0XHR9XHJcblx0XHRmb3JtYXR0ZWROdW1iZXIgKz0gY2FyZE51bWJlcltpXTtcclxuXHR9XHJcblxyXG5cdHBhcmFncmFwaC50ZXh0Q29udGVudCA9IGZvcm1hdHRlZE51bWJlcjtcclxufTtcclxuXHJcbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Y2hlY2tGb3JtKGFsbElucHV0cyk7XHJcblx0Y2hlY2tMZW5ndGgoY2FyZE5hbWUsIDMpO1xyXG5cdGNoZWNrQ2FyZE51bWJlcihjYXJkTnVtYmVyKTtcclxuXHRjaGVja0NhcmREYXRlKG1EYXRlLCB5RGF0ZSk7XHJcblx0Y2hlY2tDdmMoY3ZjTnVtYmVyKTtcclxuXHRjaGVja0Vycm9ycygpO1xyXG59KTtcclxuXHJcbmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdGNvbXBsZXRlSW5mby5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbn0pO1xyXG5cclxuY2FyZE5hbWUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0aGFuZGxlQ2FyZFRleHQoY2FyZE5hbWUsIHBDYXJkTmFtZSk7XHJcbn0pO1xyXG5cclxuY3ZjTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdGhhbmRsZUNhcmRUZXh0KGN2Y051bWJlciwgcENhcmRDdmMpO1xyXG59KTtcclxuXHJcbmNhcmROdW1iZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0aGFuZGxlQ2FyZE51bWJlcihjYXJkTnVtYmVyLCBwQ2FyZE51bWJlcik7XHJcbn0pO1xyXG5cclxubURhdGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0aGFuZGxlQ2FyZFRleHQobURhdGUsIHNwYW5Nb250aCk7XHJcbn0pO1xyXG5cclxueURhdGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0aGFuZGxlQ2FyZFRleHQoeURhdGUsIHNwYW5ZZWFyKTtcclxufSk7XHJcbiJdfQ==
