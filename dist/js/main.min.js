"use strict";var cardName=document.querySelector("#cardholder-name"),cardNumber=document.querySelector("#card-number"),mDate=document.querySelector(".mDate"),yDate=document.querySelector(".yDate"),cvcNumber=document.querySelector("#cvc"),allInputs=document.querySelectorAll("input"),sendBtn=document.querySelector(".details__form-btn"),closeBtn=document.querySelector(".details__complete-btn"),completeInfo=document.querySelector(".details__complete"),pCardName=document.querySelector(".bg__card-front-cardholder"),pCardNumber=document.querySelector(".bg__card-front-number"),pCardCvc=document.querySelector(".bg__card-back-cvc"),spanMonth=document.querySelector(".bg__card-front-month"),spanYear=document.querySelector(".bg__card-front-year"),blankInfo="can't be blank",reNumbers=/^\d+$/,reLetters=/^[A-Za-z\s]*$/,showError=function(e,r){var e=e.closest(".details__form-box"),t=e.querySelector(".error-info");e.classList.add("error"),t.textContent=r},clearError=function(e){e.closest(".details__form-box").classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,blankInfo):clearError(e)})},checkLength=function(e,r){e.value.length<r&&0<e.value.length&&showError(e,"".concat(e.previousElementSibling.textContent," should consist of at least ").concat(r," characters"))},checkCardName=function(e){""===e.value?showError(e,blankInfo):!e.value===reLetters.test(e.value)?showError(e,"Wrong format, letters only"):checkLength(e,6)},checkCardDate=function(e,r){!e.value===reNumbers.test(e.value)?showError(e,"Wrong format, numbers only"):12<Number(e.value)?showError(e,"Only 12 months in a year"):e.value.length<1||r.value.length<1?showError(e,blankInfo):clearError(e)},checkCvc=function(e){!e.value===reNumbers.test(e.value)?showError(e,"Wrong format, numbers only"):checkLength(cvcNumber,3)},checkCardNumber=function(e){!e.value===reNumbers.test(e.value)?showError(e,"Wrong format, numbers only"):checkLength(e,16)},checkErrors=function(){var e=document.querySelectorAll(".details__form-box"),r=0;e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&allInputs.forEach(function(e){e.value="",clearError(e),completeInfo.classList.add("visible")})},handleCardText=function(e,r){r.textContent=e.value},handleCardNumber=function(e,r){for(var t=e.value,n="",c=0;c<t.length;c++)c%4==0&&0<c&&(n+=" "),n+=t[c];r.textContent=n};sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm(allInputs),checkCardName(cardName),checkCardNumber(cardNumber),checkCardDate(mDate,yDate),checkCvc(cvcNumber),checkErrors()}),closeBtn.addEventListener("click",function(){completeInfo.classList.remove("visible")}),cardName.addEventListener("keyup",function(){handleCardText(cardName,pCardName)}),cvcNumber.addEventListener("keyup",function(){handleCardText(cvcNumber,pCardCvc)}),cardNumber.addEventListener("keyup",function(){handleCardNumber(cardNumber,pCardNumber)}),mDate.addEventListener("keyup",function(){handleCardText(mDate,spanMonth)}),yDate.addEventListener("keyup",function(){handleCardText(yDate,spanYear)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY2FyZE5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJkTnVtYmVyIiwibURhdGUiLCJ5RGF0ZSIsImN2Y051bWJlciIsImFsbElucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZW5kQnRuIiwiY29tcGxldGVJbmZvIiwicENhcmROYW1lIiwicENhcmROdW1iZXIiLCJwQ2FyZEN2YyIsInNwYW5Nb250aCIsImJsYW5rSW5mbyIsInJlTnVtYmVycyIsInJlTGV0dGVycyIsImZvcm1Cb3giLCJpbnB1dCIsImNsb3Nlc3QiLCJlcnJvck1zZyIsImNsYXNzTGlzdCIsInRleHRDb250ZW50IiwibXNnIiwiY2hlY2tGb3JtIiwicmVtb3ZlIiwic2hvd0Vycm9yIiwiZm9yRWFjaCIsImVsIiwiY2xlYXJFcnJvciIsImNoZWNrTGVuZ3RoIiwibWluIiwiY2hlY2tDYXJkTmFtZSIsImxlbmd0aCIsInZhbHVlIiwiY29uY2F0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInRlc3QiLCJjaGVja0NhcmREYXRlIiwiTnVtYmVyIiwiaW5wdXQyIiwiY2hlY2tDdmMiLCJjaGVja0NhcmROdW1iZXIiLCJmb3JtQm94ZXMiLCJlcnJvckNvdW50IiwiY29udGFpbnMiLCJoYW5kbGVDYXJkTnVtYmVyIiwiZm9ybWF0dGVkTnVtYmVyIiwiaGFuZGxlQ2FyZFRleHQiLCJwYXJhZ3JhcGgiLCJwcmV2ZW50RGVmYXVsdCIsImkiLCJjaGVja0Vycm9ycyIsImNsb3NlQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzcGFuWWVhciJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsU0FBV0MsU0FBU0MsY0FBYyxrQkFBa0IsRUFDcERDLFdBQWFGLFNBQVNDLGNBQWMsY0FBYyxFQURsREYsTUFBUUMsU0FBV0MsY0FBYyxRQUFDLEVBQ2xDQyxNQUFVRixTQUFHQSxjQUFTQyxRQUFjLEVBQ3BDRSxVQUFRSCxTQUFTQyxjQUFjLE1BQVMs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Z0IsU0FBQWhDLEVBQUErQixHQVhsQixJQUhBLElBZUF6QixFQUFVbEIsRUFBVTRCLE1BQ3BCRixFQUFjakMsR0FFZHVDLEVBQUFBLEVBQWNuQyxFQUFLRCxFQUFRK0IsT0FBQWtCLENBQUEsR0FDM0JWLEVBQVEsR0FBQ3BDLEdBQVUsRUFBQThDLElBQ25CQyxHQUFhLEtBR2RDLEdBQVNDLEVBQWlCSCxHQUkxQnBELEVBQVN1RCxZQUFnQlAsQ0FoQnpCLEVBb0JBMUMsUUFBQUEsaUJBQVVpRCxRQUF3QixTQUFBQyxHQWpCakNBLEVBa0JBUCxlQUFlM0MsRUFDZm1CLFVBQUNsQixTQUFBLEVBRUZKLGNBQVdvRCxRQUFBQSxFQWxCVlosZ0JBbUJBSSxVQUFpQjVDLEVBQ2pCb0MsY0FBQ25DLE1BQUFDLEtBQUEsRUFFRkQsU0FBTW1ELFNBQUFBLEVBbkJMRixZQW9CQUosQ0FDRCxDQUFDLEVBbEJESyxTQXFCQ0wsaUJBQXNCUSxRQUFTLFdBQy9CL0MsYUFBQ1ksVUFBQUksT0FBQSxTQUFBLENBcEJGLENBQUMsRUFFRDFCLFNBQVN1RCxpQkFBaUIsUUFBUyxXQUNsQ04sZUFBZWpELFNBQVVXLFNBQVMsQ0FDbkMsQ0FBQyxFQUVETCxVQUFVaUQsaUJBQWlCLFFBQVMsV0FDbkNOLGVBQWUzQyxVQUFXTyxRQUFRLENBQ25DLENBQUMsRUFFRFYsV0FBV29ELGlCQUFpQixRQUFTLFdBQ3BDUixpQkFBaUI1QyxXQUFZUyxXQUFXLENBQ3pDLENBQUMsRUFFRFIsTUFBTW1ELGlCQUFpQixRQUFTLFdBQy9CTixlQUFlN0MsTUFBT1UsU0FBUyxDQUNoQyxDQUFDLEVBRURULE1BQU1rRCxpQkFBaUIsUUFBUyxXQUMvQk4sZUFBZTVDLE1BQU9vRCxRQUFRLENBQy9CLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYXJkTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkaG9sZGVyLW5hbWUnKTtcclxuY29uc3QgY2FyZE51bWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLW51bWJlcicpO1xyXG5jb25zdCBtRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tRGF0ZScpO1xyXG5jb25zdCB5RGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy55RGF0ZScpO1xyXG5jb25zdCBjdmNOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3ZjJyk7XHJcbmNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV0YWlsc19fZm9ybS1idG4nKTtcclxuY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV0YWlsc19fY29tcGxldGUtYnRuJyk7XHJcbmNvbnN0IGNvbXBsZXRlSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZXRhaWxzX19jb21wbGV0ZScpO1xyXG5cclxuY29uc3QgcENhcmROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnX19jYXJkLWZyb250LWNhcmRob2xkZXInKTtcclxuY29uc3QgcENhcmROdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmdfX2NhcmQtZnJvbnQtbnVtYmVyJyk7XHJcbmNvbnN0IHBDYXJkQ3ZjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnX19jYXJkLWJhY2stY3ZjJyk7XHJcbmNvbnN0IHNwYW5Nb250aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZ19fY2FyZC1mcm9udC1tb250aCcpO1xyXG5jb25zdCBzcGFuWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZ19fY2FyZC1mcm9udC15ZWFyJyk7XHJcblxyXG5jb25zdCBibGFua0luZm8gPSBgY2FuJ3QgYmUgYmxhbmtgO1xyXG5jb25zdCByZU51bWJlcnMgPSAvXlxcZCskLztcclxuY29uc3QgcmVMZXR0ZXJzID0gL15bQS1aYS16XFxzXSokLztcclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LmNsb3Nlc3QoJy5kZXRhaWxzX19mb3JtLWJveCcpO1xyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItaW5mbycpO1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZztcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LmNsb3Nlc3QoJy5kZXRhaWxzX19mb3JtLWJveCcpO1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVsLCBibGFua0luZm8pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0xlbmd0aCA9IChpbnB1dCwgbWluKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbiAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPiAwKSB7XHJcblx0XHRzaG93RXJyb3IoaW5wdXQsIGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IHNob3VsZCBjb25zaXN0IG9mIGF0IGxlYXN0ICR7bWlufSBjaGFyYWN0ZXJzYCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tDYXJkTmFtZSA9IGlucHV0ID0+IHtcclxuXHRpZiAoaW5wdXQudmFsdWUgPT09ICcnKSB7XHJcblx0XHRzaG93RXJyb3IoaW5wdXQsIGJsYW5rSW5mbyk7XHJcblx0fSBlbHNlIGlmICghaW5wdXQudmFsdWUgPT09IHJlTGV0dGVycy50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCBgV3JvbmcgZm9ybWF0LCBsZXR0ZXJzIG9ubHlgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hlY2tMZW5ndGgoaW5wdXQsIDYpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrQ2FyZERhdGUgPSAoaW5wdXQsIGlucHV0MikgPT4ge1xyXG5cdGlmICghaW5wdXQudmFsdWUgPT09IHJlTnVtYmVycy50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCBgV3JvbmcgZm9ybWF0LCBudW1iZXJzIG9ubHlgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKE51bWJlcihpbnB1dC52YWx1ZSkgPiAxMikge1xyXG5cdFx0XHRzaG93RXJyb3IoaW5wdXQsICdPbmx5IDEyIG1vbnRocyBpbiBhIHllYXInKTtcclxuXHRcdH0gZWxzZSBpZiAoaW5wdXQudmFsdWUubGVuZ3RoIDwgMSB8fCBpbnB1dDIudmFsdWUubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRzaG93RXJyb3IoaW5wdXQsIGJsYW5rSW5mbyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0N2YyA9IGlucHV0ID0+IHtcclxuXHRpZiAoIWlucHV0LnZhbHVlID09PSByZU51bWJlcnMudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgYFdyb25nIGZvcm1hdCwgbnVtYmVycyBvbmx5YCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNoZWNrTGVuZ3RoKGN2Y051bWJlciwgMyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tDYXJkTnVtYmVyID0gaW5wdXQgPT4ge1xyXG5cdGlmICghaW5wdXQudmFsdWUgPT09IHJlTnVtYmVycy50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCBgV3JvbmcgZm9ybWF0LCBudW1iZXJzIG9ubHlgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hlY2tMZW5ndGgoaW5wdXQsIDE2KTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGV0YWlsc19fZm9ybS1ib3gnKTtcclxuXHRsZXQgZXJyb3JDb3VudCA9IDA7XHJcblx0Zm9ybUJveGVzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZXJyb3InKSkge1xyXG5cdFx0XHRlcnJvckNvdW50Kys7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGlmIChlcnJvckNvdW50ID09PSAwKSB7XHJcblx0XHRhbGxJbnB1dHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRcdGVsLnZhbHVlID0gJyc7XHJcblx0XHRcdGNsZWFyRXJyb3IoZWwpO1xyXG5cdFx0XHRjb21wbGV0ZUluZm8uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ2FyZFRleHQgPSAoaW5wdXQsIHBhcmFncmFwaCkgPT4ge1xyXG5cdHBhcmFncmFwaC50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ2FyZE51bWJlciA9IChpbnB1dCwgcGFyYWdyYXBoKSA9PiB7XHJcblx0Y29uc3QgY2FyZE51bWJlciA9IGlucHV0LnZhbHVlO1xyXG5cdGxldCBmb3JtYXR0ZWROdW1iZXIgPSAnJztcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkTnVtYmVyLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAoaSAlIDQgPT09IDAgJiYgaSA+IDApIHtcclxuXHRcdFx0Zm9ybWF0dGVkTnVtYmVyICs9ICcgJztcclxuXHRcdH1cclxuXHRcdGZvcm1hdHRlZE51bWJlciArPSBjYXJkTnVtYmVyW2ldO1xyXG5cdH1cclxuXHJcblx0cGFyYWdyYXBoLnRleHRDb250ZW50ID0gZm9ybWF0dGVkTnVtYmVyO1xyXG59O1xyXG5cclxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjaGVja0Zvcm0oYWxsSW5wdXRzKTtcclxuXHRjaGVja0NhcmROYW1lKGNhcmROYW1lKTtcclxuXHRjaGVja0NhcmROdW1iZXIoY2FyZE51bWJlcik7XHJcblx0Y2hlY2tDYXJkRGF0ZShtRGF0ZSwgeURhdGUpO1xyXG5cdGNoZWNrQ3ZjKGN2Y051bWJlcik7XHJcblx0Y2hlY2tFcnJvcnMoKTtcclxufSk7XHJcblxyXG5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRjb21wbGV0ZUluZm8uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG59KTtcclxuXHJcbmNhcmROYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdGhhbmRsZUNhcmRUZXh0KGNhcmROYW1lLCBwQ2FyZE5hbWUpO1xyXG59KTtcclxuXHJcbmN2Y051bWJlci5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcclxuXHRoYW5kbGVDYXJkVGV4dChjdmNOdW1iZXIsIHBDYXJkQ3ZjKTtcclxufSk7XHJcblxyXG5jYXJkTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdGhhbmRsZUNhcmROdW1iZXIoY2FyZE51bWJlciwgcENhcmROdW1iZXIpO1xyXG59KTtcclxuXHJcbm1EYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdGhhbmRsZUNhcmRUZXh0KG1EYXRlLCBzcGFuTW9udGgpO1xyXG59KTtcclxuXHJcbnlEYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdGhhbmRsZUNhcmRUZXh0KHlEYXRlLCBzcGFuWWVhcik7XHJcbn0pO1xyXG4iXX0=
